# 01. 라우터

---

## 01. 최적의 경로를 결정하고 원격지로 패킷을 전달하는 라우터

**네트워크를 구성하고 원격지 네트워크와 통신할 수 있도록 해주는 핵심 장비**

**01-01) 라우터의 역할**

- 원격지 네트워크와 통신하기 위한 네트워크 장비
- 목적지 네트워크까지 최적의 경로로 패킷을 전달
- 스위치와 같은 플루딩 불가, 브로드캐스트/멀티캐스트 컨트롤
- 서로 다른 네트워크 프로토콜을 연결하기 위한 프로토콜 변환 기능
- 네트워크에서 떠도는 패킷(라우팅 루프, 핑퐁 방지)을 수명값(TTL)로 폐기

<br>

**01-02) 라우팅 동작, 라우팅 테이블**

- 라우터는 패킷을 처리할 때 경로 정보를 얻어 경로 정보를 테이블에 적재하고, 이 정보를 기반으로 패킷을 포워딩
- 서브넷 단위로 라우팅 정보를 습득, 최적화하기 위해 서머리 축약을 통해 여러 서브넷 정보를 한 번에 전달
- 인접한 라우터까지의 경로를 지정하여 넥스트 홉에서 최적의 경로를 파악한 후 패킷을 전달 ⇒ (Hop by Hop)

<br>

**01-03) 라우터가 경로 정보를 학습하는 방법과 설정 방법**

- Direct Connected - 동일 장비 네트워크 인터페이스에 아이피 주소를 할당하면, 라우팅 테이블에 동적으로 Connected 엔트리가 생성된다.
- Static Routing - 관리자가 목적지 네트워크와 넥스트 홉 또는 인터페이스 랜카드명으로 설정한다. 해당 방식은 대규모 네트워크 환경에서는 적합하지 않다. 네트워크는 양방향이므로 되돌아오는 패킷까지 고려하여 모두 설정해주어야 하며, 라우터 사이에 회선 등의 문제 혹은 라우터 자체 장애가 발생하는 경우에는 신속한 대처가 어렵고 대체 경로로 패킷을 보낼 수 없어 관리하는 데에 있어 한계가 있다.
- Dynamic Routing - 각 라우터 간에 경로 정보를 교환하여 전체 네트워크 정보를 학습한다. 교환된 정보는 체계적으로 데이터베이스화하고 순위를 적절하게 부여해 최선의 경로를 수집해 라우팅 테이블에 저장한다. (Longest Prefix Matching)
- Administrative Distance(AD) - AD 값을 부여하여 우선순위를 결정한다. 만일 경로 정보를 얻은 소스가 동일하여 우선순위가 같은 경우 코스트 값으로 우선순위를 부여한다. 코스트 값 또한 동일한 경우에는 ECMP 기능으로 트래픽을 분산한다. *라우팅 프로토콜마다 코스트가 상이하다.
